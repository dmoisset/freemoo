SmartEiffelDirectory=$(shell dirname $(shell dirname $(SmartEiffel)))
TARGET=test_map_generator_v2
SOURCEFILES=*.e ../../shared/*.e
EIFFLAGS=-case_insensitive -high_memory_compiler -no_check
LIBS=-lSDL_image `sdl-config --libs` -I../../client\
     $(SmartEiffelDirectory)/lib_ews/driver-sdl/C/driver-sdl.o ../../client/src/C/img_loader.o
     
# Building commands: BUILD1; BUILD2 should build the system
BUILD1=compile -O0

# Adapt to host environment. Resistance is futile
-include Makefile.$(HOSTNAME)

all: $(TARGET)
	compile -o $(TARGET) $(TARGET) $(EIFFLAGS) $(LIBS)

$(TARGET): $(SOURCEFILES)

check: $(SOURCEFILES)
	compile_to_c $(TARGET)

clean:
	rm -f $(TARGET)
	clean $(TARGET)
